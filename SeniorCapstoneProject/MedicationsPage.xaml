<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SeniorCapstoneProject.MedicationsPage"
             Title="Medications"
             BackgroundColor="#F8FAFC">

    <VerticalStackLayout Padding="24,16" Spacing="18">
        <!-- Back Button Row -->
        <HorizontalStackLayout Spacing="0" Margin="0,0,0,0" VerticalOptions="Start" HeightRequest="40" Grid.Row="0">
            <Button Text="←"
            FontSize="28"
            TextColor="#2E91FF"
            BackgroundColor="Transparent"
            Padding="0"
            HorizontalOptions="Start"
            VerticalOptions="Center"
            Clicked="OnBackButtonClicked"/>
        </HorizontalStackLayout>

        <!-- Your Medications Header -->
        <Label Text="Your Medications"
               FontSize="28"
               FontAttributes="Bold"
               TextColor="#22223B"
               Margin="0,0,0,8"/>

        <!-- Medications List -->
        <CollectionView ItemsSource="{Binding Medications}"
                        EmptyView="No medications found."
                        SelectionMode="None">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Frame CornerRadius="16" Padding="16" Margin="0,0,0,12" BackgroundColor="White" HasShadow="True">
                        <VerticalStackLayout Spacing="6">
                            <Label Text="{Binding Name}" FontSize="20" FontAttributes="Bold" TextColor="#3A86FF"/>
                            <Label Text="{Binding Dosage}" FontSize="16" TextColor="#22223B"/>
                            <Label Text="{Binding Instructions}" FontSize="15" TextColor="#4A4E69"/>
                        </VerticalStackLayout>
                    </Frame>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
        <ActivityIndicator IsRunning="{Binding IsBusy}" IsVisible="{Binding IsBusy}" Color="#3A86FF"/>
    </VerticalStackLayout>
</ContentPage>